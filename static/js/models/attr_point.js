// Generated by CoffeeScript 1.9.3
(function() {
  var attr_point;

  attr_point = (function() {
    function attr_point() {}

    attr_point.prototype.points = ko.observableArray([]);

    attr_point.prototype._search_point_id = ko.observable('');

    attr_point.prototype._search_point_content = ko.observable('');

    attr_point.prototype._search_point_type = ko.observable(false);

    attr_point.prototype.add_point = function(obj, event) {
      var i, input, is_in_array, len, p, point, ref;
      input = $(event.target).closest('.form-group').find('.treeDialog');
      point = TreeDialogMod.getTagsOf(input)[0];
      if (point != null) {
        this._search_point_id(point.id);
        this._search_point_content(point.text);
        is_in_array = false;
        ref = this.points();
        for (i = 0, len = ref.length; i < len; i++) {
          p = ref[i];
          if (p.id() === point.id) {
            is_in_array = true;
          }
        }
        if (!is_in_array) {
          this.points.push(new Point({
            id: this._search_point_id(),
            content: this._search_point_content(),
            isKeyPoint: this._search_point_type()
          }));
        }
        this._search_point_id('');
        this._search_point_content('');
        this._search_point_type(false);
        TreeDialogMod.clearTags();
      }
    };

    attr_point.prototype.add_option_opint = function() {};

    return attr_point;

  })();

  this.attr_point = attr_point;

}).call(this);

//# sourceMappingURL=attr_point.js.map
